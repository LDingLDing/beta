!function(s){var i=function(){var i=this;this.mem_id=window.location.search.slice(4),this.mem_id||(window.location.search="?id=1",this.mem_id=1),this.members=[],this.nowMem={},this.switchbox=s(".switchbox"),this.switchbox.hide(),this.classItems=this.switchbox.find(".items"),this.classNow=this.switchbox.find(".now"),this.tabMem=s("#tabMem"),this.cardbox=s("#memCard"),this.baseImgSrc="../dist/imgs/member/",s.ajax({url:"../dist/data/member.json",async:!1,dataType:"json"}).done(function(t){s.each(t,function(s,t){i.members.push(t),i.mem_id==t.id&&(i.nowMem=t)})}),this.renderClassNav(),this.renderMemCard()};i.prototype={renderClassNav:function(){var i=this;this.switchbox.show(),this.classItems.hide(),this.fillClassNav(this.nowMem.classtype),this.switchbox.hover(function(){i.classItems.fadeIn()},function(){i.classItems.fadeOut()}),this.classItems.find(".item").hover(function(){s(this).addClass("active")},function(){s(this).removeClass("active")}).click(function(){var t=s(this).attr("data-classtype");s.each(i.members,function(s,a){return a.classtype==t?(i.mem_id=a.id,!1):void 0}),i.fillClassNav(t),i.renderMemNav(t),i.renderMemCard()}),this.renderMemNav(this.nowMem.classtype)},fillClassNav:function(s){var i="";"1"==s?i="第一届":"2"==s?i="第二届":"3"==s?i="第三届":"4"==s?i="第四届":"5"==s&&(i="第五届"),this.classNow.text(i)},renderMemNav:function(i){var t=this,a=this.getClassNow(i);t.tabMem.html(""),s.each(a,function(s,i){i.id==t.mem_id?t.tabMem.append("<li data-id="+i.id+'><span class="r now"></span></li>'):t.tabMem.append("<li data-id="+i.id+'><span class="r"></span></li>')}),this.tabMem.find("li").click(function(){t.tabMem.find("li").find("span").removeClass("now"),s(this).find("span").addClass("now"),t.updateMem_id(s(this).attr("data-id")),t.renderMemCard()})},updateMem_id:function(s){this.mem_id=s},renderMemCard:function(){var i=this;this.cardbox.css("background","transparent"),s.each(i.members,function(s,t){return i.mem_id==t.id?(i.nowMem=t,!1):void 0});var t='<div class="phto"><img src="'+this.baseImgSrc+this.nowMem.imgsrc+'"></div> <p class="name">'+this.nowMem.name+'</p><div class="content"><p class="part1"><span>专业</span>'+this.nowMem.professional+'</p><p class="part2"><span>介绍</span>'+this.nowMem.intro+'</p></div><div class="links"><a href="'+this.nowMem.github+'"><span class="github"></span></a><a href="'+this.nowMem.blog+'"><span class="blog"></span></a></div> ';this.cardbox.html(t)},getClassNow:function(i){var t=[];return s.each(this.members,function(s,a){a.classtype==i&&t.push(a)}),t}};new i}(jQuery);